---
name: Check spelling

# yamllint disable-line rule:truthy
on:
  # USE_WORKFLOW
  workflow_call:
# /USE_WORKFLOW
# USE_REPOSITORY
#  pull_request:
# /USE_REPOSITORY

jobs:
  cspell:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@08eba0b27e820071cde6df949e0beb9ba4906955 # v4.3.0

      - run: |
          # renovate: datasource=npm depName=@cspell/dict-cspell-bundle
          cspell_dict_version="2.0.21"
          npm i -D @cspell/dict-cspell-bundle@${cspell_dict_version}

          # renovate: datasource=npm depName=cspell
          cspell_version="9.2.0"
          npx cspell@${cspell_version} . -c .config/cspell.json --dot

  validate-dictionaries:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@08eba0b27e820071cde6df949e0beb9ba4906955 # v4.3.0

      - run: .github/workflows/scripts/check_dictionaries.sh
